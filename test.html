<!DOCTYPE html>
<html>
<head>
    <title>Socket.IO Client</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
    <h2>Client Web - Socket.IO</h2>
    <input type="text" id="messageInput" placeholder="Nh·∫≠p tin nh·∫Øn..." />
    <button onclick="sendMessage()">G·ª≠i</button>
    <pre id="log"></pre>

    <script>
        var socket = io("http://localhost:5000");

        socket.on("connect", () => {
            log("‚úÖ ƒê√£ k·∫øt n·ªëi t·ªõi server!");
        });

        socket.on("server_message", (msg) => {
            log("üì© Server: " + JSON.stringify(msg));
        });

        socket.on("disconnect", () => {
            log("‚ùå M·∫•t k·∫øt n·ªëi v·ªõi server");
        });

        function sendMessage() {
            const msg = document.getElementById("messageInput").value;
            socket.emit("xulydulieu", `[[{"eid":1,"bc":10,"v":962360},{"eid":2,"bc":3,"v":500694}],[{"eid":1,"bc":23,"v":10338829},{"eid":2,"bc":10,"v":2936694}],[{"eid":1,"bc":29,"v":10632829},{"eid":2,"bc":14,"v":3451894}],[{"eid":1,"bc":36,"v":12062829},{"eid":2,"bc":22,"v":3725294}],[{"eid":1,"bc":44,"v":15234829},{"eid":2,"bc":23,"v":3925294}],[{"eid":1,"bc":53,"v":16668829},{"eid":2,"bc":28,"v":4683294}],[{"eid":1,"bc":56,"v":17378829},{"eid":2,"bc":35,"v":5700294}],[{"eid":1,"bc":63,"v":18134829},{"eid":2,"bc":41,"v":6525294}],[{"eid":1,"bc":67,"v":18764829},{"eid":2,"bc":51,"v":8712534}],[{"eid":1,"bc":73,"v":19003625},{"eid":2,"bc":58,"v":10589799}],[{"eid":1,"bc":85,"v":20674625},{"eid":2,"bc":63,"v":12722799}],[{"eid":1,"bc":97,"v":22104625},{"eid":2,"bc":75,"v":13831799}],[{"eid":1,"bc":104,"v":24766625},{"eid":2,"bc":80,"v":14961799}],[{"eid":1,"bc":112,"v":38496625},{"eid":2,"bc":93,"v":16201799}],[{"eid":1,"bc":129,"v":41482060},{"eid":2,"bc":100,"v":18179243}],[{"eid":1,"bc":142,"v":42873060},{"eid":2,"bc":111,"v":19116461}],[{"eid":1,"bc":152,"v":45008060},{"eid":2,"bc":116,"v":19715861}],[{"eid":1,"bc":165,"v":47064060},{"eid":2,"bc":121,"v":20191861}],[{"eid":1,"bc":181,"v":54699655},{"eid":2,"bc":126,"v":20567861}],[{"eid":1,"bc":197,"v":68648855},{"eid":2,"bc":133,"v":22197861}],[{"eid":1,"bc":210,"v":69673545},{"eid":2,"bc":138,"v":22629861}],[{"eid":1,"bc":221,"v":73745545},{"eid":2,"bc":151,"v":24400861}],[{"eid":1,"bc":229,"v":74849592},{"eid":2,"bc":156,"v":25100861}],[{"eid":1,"bc":240,"v":77286592},{"eid":2,"bc":158,"v":25456861}],[{"eid":1,"bc":252,"v":79909592},{"eid":2,"bc":165,"v":26332461}],[{"eid":1,"bc":260,"v":81215490},{"eid":2,"bc":172,"v":26707461}],[{"eid":1,"bc":272,"v":84377275},{"eid":2,"bc":180,"v":28190461}],[{"eid":1,"bc":283,"v":91659275},{"eid":2,"bc":192,"v":32788461}],[{"eid":1,"bc":296,"v":92415386},{"eid":2,"bc":204,"v":37654111}],[{"eid":1,"bc":306,"v":99453386},{"eid":2,"bc":214,"v":42365111}],[{"eid":1,"bc":314,"v":99808994},{"eid":2,"bc":219,"v":44095111}],[{"eid":1,"bc":329,"v":105281471},{"eid":2,"bc":225,"v":44428111}],[{"eid":1,"bc":341,"v":110328471},{"eid":2,"bc":235,"v":44957271}],[{"eid":1,"bc":353,"v":111997471},{"eid":2,"bc":248,"v":52902271}],[{"eid":1,"bc":372,"v":118190964},{"eid":2,"bc":255,"v":56457271}],[{"eid":1,"bc":388,"v":122148964},{"eid":2,"bc":266,"v":57981900}],[{"eid":1,"bc":405,"v":129904964},{"eid":2,"bc":277,"v":59888900}],[{"eid":1,"bc":422,"v":136280964},{"eid":2,"bc":296,"v":64780470}],[{"eid":1,"bc":436,"v":139613684},{"eid":2,"bc":311,"v":69832470}],[{"eid":1,"bc":448,"v":142592684},{"eid":2,"bc":333,"v":78924045}]]`);
            log("üì§ ƒê√£ g·ª≠i: " + msg);
        }

        function log(message) {
            document.getElementById("log").textContent += message + "\n";
        }
    </script>
</body>
</html>
